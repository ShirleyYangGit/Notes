# SSL & PKI
# SSL

SSL（Secure Socket Layer，安全套接字层） 协议位于TCP/IP协议与各种应用层协议之间，为数据通讯提供安全支持。SSL是Netscape开发的专门用户保护Web通讯的，目前版本为3.0。**TLS (Transport Layer Security，传输层安全协议)**是IETF(工程任务组)制定的一种新的协议，它建立在SSL 3.0协议规范之上，是SSL 3.0的后续版本。两者差别极小，可以理解为SSL 3.1，它是写入了RFC的。  
SSL/TLS通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯。

HTTPS是基于SSL/TLS 实现的安全通信。在客户端与服务器间传输的数据是通过使用对称算法（如 DES 或 RC4）进行加密的。公用密钥算法（通常为 RSA）是用来获得加密密钥交换和数字签名的，此算法使用服务器的SSL数字证书中的公用密钥。有了服务器的SSL数字证书，客户端也可以验证服务器的身份。SSL 协议的版本 1 和 2 只提供服务器认证。版本 3 添加了客户端认证，此认证同时需要客户端和服务器的数字证书。

## SSL 握手

SSL 连接总是由客户端启动的。在SSL 会话开始时执行 SSL 握手。此握手产生会话的密码参数。关于如何处理 SSL 握手的简单概述，如下图所示。此示例假设已在 Web 浏览器 和 Web 服务器间建立了 SSL 连接。

SSL的客户端与服务器端的认证握手图：


# Public Key Infrastructure

## PKI架构

所有与数字证书相关的各种概念和技术，统称为PKI（ Public Key Infrastructure 公钥基础设施）。

> PKI通过引入CA，数字证书，LDAP，CRL，OCSP等技术并制定相应标准，有效地解决了公钥与用户映射关系，集中服务性能瓶颈，脱机状态查询等问题。同时为促进并提高证书应用的规范性，还制定了很多与证书应用相关的各种标准。

公钥在网络传输过程中，无法保证可信度，容易被窃取或者伪装，所以我们就需要一个受信任的第三方机构CA来保证公钥信息的安全分发。有了根CA之后，证书颁发机构信任根CA，不同证书颁发机构只要被根CA信任，那么颁发的证书都是受信任的。  
注意：浏览器默认已经内置第三方的受信任的根证书的颁发机构

使用证书保护Web访问的安全实现SSL的基本原理如下：


## 证书签发
<!--stackedit_data:
eyJoaXN0b3J5IjpbMjEyMDI0MTgxMiw3MzA5OTgxMTZdfQ==
-->